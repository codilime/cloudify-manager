imports:
    - cloudify.types
    - testmockoperations.yaml
    - mock_workflows_plugin.yaml

plugins:
    script_runner:
        derived_from: cloudify.plugins.remote_plugin

node_templates:
    test_node:
        type: cloudify.types.base
        interfaces:
            test_interface:
                - operation: testmockoperations.tasks.mock_operation_from_custom_workflow

workflows:
    execute_operation:
        mapping: mock_workflows.workflows.execute_operation
        parameters:
            node_id:
                default: test_node
            operation:
                default: test_interface.operation
            properties:
                default:
                    key: test_key
                    value: test_value

    another_execute_operation:
        mapping: mock_workflows.workflows.execute_operation
        parameters:
            node_id:
                default: test_node
            operation: {}
            properties:
                default:
                    key: test_key
                    value: test_value
    script_execute_operation:
        mapping: script_runner.tasks.execute_workflow
        parameters:
            script_path:
                default: scripts/execute_operation.py
            node_id:
                default: test_node
            operation:
                default: test_interface.operation
            properties:
                default:
                    key: test_key
                    value: test_value
